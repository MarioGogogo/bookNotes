<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS日期方法操作大全 | 👨🏽‍💻前端漫游指南</title>
    <meta name="description" content="Never Stop Learning">
    <link rel="icon" href="/bookNotes/favicon.ico">
    
    <link rel="preload" href="/bookNotes/assets/css/0.styles.02a9e5b3.css" as="style"><link rel="preload" href="/bookNotes/assets/js/app.a5c1f5ee.js" as="script"><link rel="preload" href="/bookNotes/assets/js/69.54e25a4e.js" as="script"><link rel="prefetch" href="/bookNotes/assets/js/10.7897844d.js"><link rel="prefetch" href="/bookNotes/assets/js/11.daa46aa2.js"><link rel="prefetch" href="/bookNotes/assets/js/12.19efc583.js"><link rel="prefetch" href="/bookNotes/assets/js/13.5b7f839d.js"><link rel="prefetch" href="/bookNotes/assets/js/14.47b4842d.js"><link rel="prefetch" href="/bookNotes/assets/js/15.959aa0c7.js"><link rel="prefetch" href="/bookNotes/assets/js/16.e07efd9a.js"><link rel="prefetch" href="/bookNotes/assets/js/17.06df2fb1.js"><link rel="prefetch" href="/bookNotes/assets/js/18.40dee455.js"><link rel="prefetch" href="/bookNotes/assets/js/19.ea09a6c5.js"><link rel="prefetch" href="/bookNotes/assets/js/2.2daf200c.js"><link rel="prefetch" href="/bookNotes/assets/js/20.ffb27053.js"><link rel="prefetch" href="/bookNotes/assets/js/21.33f73e1d.js"><link rel="prefetch" href="/bookNotes/assets/js/22.9e99b0e5.js"><link rel="prefetch" href="/bookNotes/assets/js/23.5417826f.js"><link rel="prefetch" href="/bookNotes/assets/js/24.59000dfc.js"><link rel="prefetch" href="/bookNotes/assets/js/25.acc91333.js"><link rel="prefetch" href="/bookNotes/assets/js/26.6af21f36.js"><link rel="prefetch" href="/bookNotes/assets/js/27.3d2e96f4.js"><link rel="prefetch" href="/bookNotes/assets/js/28.262d38c6.js"><link rel="prefetch" href="/bookNotes/assets/js/29.1eca77c6.js"><link rel="prefetch" href="/bookNotes/assets/js/3.2e998a1c.js"><link rel="prefetch" href="/bookNotes/assets/js/30.af641b29.js"><link rel="prefetch" href="/bookNotes/assets/js/31.3c9c863c.js"><link rel="prefetch" href="/bookNotes/assets/js/32.07ea838c.js"><link rel="prefetch" href="/bookNotes/assets/js/33.acab53c4.js"><link rel="prefetch" href="/bookNotes/assets/js/34.48dd7240.js"><link rel="prefetch" href="/bookNotes/assets/js/35.7c3ec624.js"><link rel="prefetch" href="/bookNotes/assets/js/36.ccd745ec.js"><link rel="prefetch" href="/bookNotes/assets/js/37.005d8f1b.js"><link rel="prefetch" href="/bookNotes/assets/js/38.fc6a5f21.js"><link rel="prefetch" href="/bookNotes/assets/js/39.44489367.js"><link rel="prefetch" href="/bookNotes/assets/js/4.dd5fac1d.js"><link rel="prefetch" href="/bookNotes/assets/js/40.34c225a3.js"><link rel="prefetch" href="/bookNotes/assets/js/41.1e7d641f.js"><link rel="prefetch" href="/bookNotes/assets/js/42.236029dd.js"><link rel="prefetch" href="/bookNotes/assets/js/43.09a1cad0.js"><link rel="prefetch" href="/bookNotes/assets/js/44.8165a802.js"><link rel="prefetch" href="/bookNotes/assets/js/45.01f5f11f.js"><link rel="prefetch" href="/bookNotes/assets/js/46.46b782a7.js"><link rel="prefetch" href="/bookNotes/assets/js/47.1ec61019.js"><link rel="prefetch" href="/bookNotes/assets/js/48.625d747e.js"><link rel="prefetch" href="/bookNotes/assets/js/49.f97abe71.js"><link rel="prefetch" href="/bookNotes/assets/js/5.dd4a8225.js"><link rel="prefetch" href="/bookNotes/assets/js/50.68dee525.js"><link rel="prefetch" href="/bookNotes/assets/js/51.583184a8.js"><link rel="prefetch" href="/bookNotes/assets/js/52.c7af0993.js"><link rel="prefetch" href="/bookNotes/assets/js/53.b647ed86.js"><link rel="prefetch" href="/bookNotes/assets/js/54.a5fbaa3d.js"><link rel="prefetch" href="/bookNotes/assets/js/55.a7b560d2.js"><link rel="prefetch" href="/bookNotes/assets/js/56.33015b4d.js"><link rel="prefetch" href="/bookNotes/assets/js/57.80ffe644.js"><link rel="prefetch" href="/bookNotes/assets/js/58.11a6edd1.js"><link rel="prefetch" href="/bookNotes/assets/js/59.e8bead8f.js"><link rel="prefetch" href="/bookNotes/assets/js/6.4505f2dd.js"><link rel="prefetch" href="/bookNotes/assets/js/60.cda1b788.js"><link rel="prefetch" href="/bookNotes/assets/js/61.16b57984.js"><link rel="prefetch" href="/bookNotes/assets/js/62.0476eb6a.js"><link rel="prefetch" href="/bookNotes/assets/js/63.f31d1faa.js"><link rel="prefetch" href="/bookNotes/assets/js/64.2e35d3be.js"><link rel="prefetch" href="/bookNotes/assets/js/65.e4ba2ad2.js"><link rel="prefetch" href="/bookNotes/assets/js/66.c2f247d4.js"><link rel="prefetch" href="/bookNotes/assets/js/67.393df1f2.js"><link rel="prefetch" href="/bookNotes/assets/js/68.875cabd4.js"><link rel="prefetch" href="/bookNotes/assets/js/7.670f9f76.js"><link rel="prefetch" href="/bookNotes/assets/js/70.17e6d438.js"><link rel="prefetch" href="/bookNotes/assets/js/71.95131df7.js"><link rel="prefetch" href="/bookNotes/assets/js/72.83e3f4f8.js"><link rel="prefetch" href="/bookNotes/assets/js/73.2a333618.js"><link rel="prefetch" href="/bookNotes/assets/js/74.13fba1a5.js"><link rel="prefetch" href="/bookNotes/assets/js/75.8ea1e0ca.js"><link rel="prefetch" href="/bookNotes/assets/js/76.1bd9ac71.js"><link rel="prefetch" href="/bookNotes/assets/js/77.470d01e4.js"><link rel="prefetch" href="/bookNotes/assets/js/78.29be0910.js"><link rel="prefetch" href="/bookNotes/assets/js/79.0da8502d.js"><link rel="prefetch" href="/bookNotes/assets/js/8.3c63f96d.js"><link rel="prefetch" href="/bookNotes/assets/js/80.f840286c.js"><link rel="prefetch" href="/bookNotes/assets/js/81.8dc38613.js"><link rel="prefetch" href="/bookNotes/assets/js/82.63f9f794.js"><link rel="prefetch" href="/bookNotes/assets/js/83.92125d6e.js"><link rel="prefetch" href="/bookNotes/assets/js/84.2dd13e00.js"><link rel="prefetch" href="/bookNotes/assets/js/85.90ac8d90.js"><link rel="prefetch" href="/bookNotes/assets/js/86.00a9730f.js"><link rel="prefetch" href="/bookNotes/assets/js/87.8a9e4f11.js"><link rel="prefetch" href="/bookNotes/assets/js/88.4b63d7ed.js"><link rel="prefetch" href="/bookNotes/assets/js/89.8cbf23b4.js"><link rel="prefetch" href="/bookNotes/assets/js/9.2033ddc1.js"><link rel="prefetch" href="/bookNotes/assets/js/90.871ef198.js"><link rel="prefetch" href="/bookNotes/assets/js/91.f87deae7.js"><link rel="prefetch" href="/bookNotes/assets/js/92.3eb8316d.js"><link rel="prefetch" href="/bookNotes/assets/js/93.ccc52aee.js"><link rel="prefetch" href="/bookNotes/assets/js/94.17ce85a1.js"><link rel="prefetch" href="/bookNotes/assets/js/95.490c860d.js"><link rel="prefetch" href="/bookNotes/assets/js/96.ed694272.js"><link rel="prefetch" href="/bookNotes/assets/js/97.e9cae244.js">
    <link rel="stylesheet" href="/bookNotes/assets/css/0.styles.02a9e5b3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bookNotes/" class="home-link router-link-active"><!----> <span class="site-name">👨🏽‍💻前端漫游指南</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/bookNotes/macosguide/" class="nav-link">MacOS配置</a></div><div class="nav-item"><a href="/bookNotes/weekstudy/" class="nav-link router-link-active">周学系列</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bookNotes/cssmagic/" class="nav-link">CSS揭秘</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/algorithm/" class="nav-link">前端数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/interview/" class="nav-link">面试知多少</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/reactstatus/" class="nav-link">React状态管理与同构实战</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/koa2/" class="nav-link">Koa2系列</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/nodejs/" class="nav-link">Nodejs系列</a></li></ul></div></div><div class="nav-item"><a href="http://h5web.cc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/MarioGogogo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MarioGogogo/react" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/bookNotes/macosguide/" class="nav-link">MacOS配置</a></div><div class="nav-item"><a href="/bookNotes/weekstudy/" class="nav-link router-link-active">周学系列</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bookNotes/cssmagic/" class="nav-link">CSS揭秘</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/algorithm/" class="nav-link">前端数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/interview/" class="nav-link">面试知多少</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/reactstatus/" class="nav-link">React状态管理与同构实战</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/koa2/" class="nav-link">Koa2系列</a></li><li class="dropdown-item"><!----> <a href="/bookNotes/nodejs/" class="nav-link">Nodejs系列</a></li></ul></div></div><div class="nav-item"><a href="http://h5web.cc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/MarioGogogo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MarioGogogo/react" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/bookNotes/weekstudy/" class="sidebar-link">用好谷歌!!!(重点)</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年38周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年39周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年40周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年41周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年42周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年43周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>2019年44周</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/bookNotes/weekstudy/大牛总结的Git使用技巧.html" class="sidebar-link">🍺🐮总结的 Git 使用技巧</a></li><li><a href="/bookNotes/weekstudy/JS日期方法操作大全.html" class="active sidebar-link">JS日期方法操作大全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bookNotes/weekstudy/JS日期方法操作大全.html#时区" class="sidebar-link">时区</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bookNotes/weekstudy/JS日期方法操作大全.html#创建日期" class="sidebar-link">创建日期</a></li></ul></li><li class="sidebar-sub-header"><a href="/bookNotes/weekstudy/JS日期方法操作大全.html#格式化日期" class="sidebar-link">格式化日期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bookNotes/weekstudy/JS日期方法操作大全.html#编写自定义日期格式" class="sidebar-link">编写自定义日期格式</a></li><li class="sidebar-sub-header"><a href="/bookNotes/weekstudy/JS日期方法操作大全.html#日期的比较" class="sidebar-link">日期的比较</a></li><li class="sidebar-sub-header"><a href="/bookNotes/weekstudy/JS日期方法操作大全.html#从另一个日期获取日期" class="sidebar-link">从另一个日期获取日期</a></li><li class="sidebar-sub-header"><a href="/bookNotes/weekstudy/JS日期方法操作大全.html#从另一个日期添加-减去增量" class="sidebar-link">从另一个日期添加 / 减去增量</a></li></ul></li><li class="sidebar-sub-header"><a href="/bookNotes/weekstudy/JS日期方法操作大全.html#自动日期校正" class="sidebar-link">自动日期校正</a></li><li class="sidebar-sub-header"><a href="/bookNotes/weekstudy/JS日期方法操作大全.html#日历小例子" class="sidebar-link">日历小例子</a></li></ul></li><li><a href="/bookNotes/weekstudy/JavaScript的工作原理引擎运行时和调用堆栈的概述.html" class="sidebar-link">JavaScript的工作原理:引擎运行时和调用堆栈的概述</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年45周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年46周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年47周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年48周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年49周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年51周</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019年52周</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="js日期方法操作大全"><a href="#js日期方法操作大全" aria-hidden="true" class="header-anchor">#</a> JS日期方法操作大全</h1> <p>工作中经常会用到时间操作函数,第三方库也很多</p> <p>JS 中的 <strong>Date</strong> 很奇怪。当我们需要处理日期和时间的时候比较麻烦，经常借助像 date-fns 和 Moment 这样的库。</p> <p>但是我们并不总是需要使用库。如果知道要注意一些常用的，日期实际上可以非常简单。接下介绍有关 <code>Date</code>对象的所有信息。</p> <h2 id="时区"><a href="#时区" aria-hidden="true" class="header-anchor">#</a> 时区</h2> <p>--
我们的世界有数百个时区。在 JavaScript 中，我们只关心两个， <strong>本地时间</strong>和<strong>协调世界时</strong>（UTC）。</p> <ul><li><p><strong>本地时间</strong>是指你的计算机所在的时区。</p></li> <li><p><strong>UTC</strong> 实际上是格林威治标准时间 (GMT) 的同义词</p></li></ul> <p>默认情况下，JS 中的几乎每个日期方法（除了一个）都是本地时间。只有指定 UTC，才能获得 UTC 时间 。</p> <h3 id="创建日期"><a href="#创建日期" aria-hidden="true" class="header-anchor">#</a> 创建日期</h3> <hr> <p>可以使用 <code>newDate()</code> 来创建日期，传入的参数通常有 4 种常用的方式：</p> <ol><li><p>使用日期字符串参数</p></li> <li><p>使用一系列的参数</p></li> <li><p>时间戳参数</p></li> <li><p>不带参数</p></li></ol> <h4 id="使用日期字符串参数"><a href="#使用日期字符串参数" aria-hidden="true" class="header-anchor">#</a> <strong>使用日期字符串参数</strong></h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2019-10-29'</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="http://book.52react.cn/20191029132620.png" alt>
这种方式方便且直观。</p> <p>如果现在写的是 <code>21-03-1988</code>，我们可以毫不费力想表达的是 1988 年 3 月 21 日。但是如果用 JS 编写 21-03-1988，则会得到无效的日期。</p> <p><img src="http://book.52react.cn/20191029132814.png" alt></p> <p>这是有原因的。</p> <p>在世界的不同地方以不同的方式解释日期字符串。例如 <code>11-06-2019</code>是 <code>2019年6月11日</code>还是 <code>2019年11月6日</code>。你不能确定我指的是哪一个，除非你知道我正在使用的日期系统。</p> <p>在 JS 中，如果要使用日期字符串参数，则需要使用全球都能接受的格式，其中一种格式是 ISO 8601 扩展格式。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ISO 8601 Extended format</span>
<span class="token template-string"><span class="token string">`YYYY-MM-DDTHH:mm:ss:sssZ`</span></span>
</code></pre></div><ul><li><p><code>YYYY</code>：4 位数年份</p></li> <li><p><code>MM</code>：两位数月份 (即 1 月为 01,12 月为 12)</p></li> <li><p><code>DD</code>：两位数的日期 (0 到 31)</p></li> <li><p><code>-</code>：日期分隔符</p></li> <li><p><code>T</code>：表示开始时间</p></li> <li><p><code>HH</code>：24 位小时数（0 到 23）</p></li> <li><p><code>mm</code>：分钟（0 到 59）</p></li> <li><p><code>ss</code>：秒（0 到 59）</p></li> <li><p><code>sss</code>：毫秒（0 到 999）</p></li> <li><p><code>:</code>：时间分隔符</p></li> <li><p><code>Z</code>：如果存在 <code>Z</code>，则日期将设置为 UTC，如果 <code>Z</code>不存在，则为本地时间。</p></li></ul> <p>其中小时，分钟，秒和毫秒是可选的，如果你想创建一个 2019 年 6 月 11 日的日期，可以这样写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2019-10-29'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>在这里要特别注意</strong>，使用日期字符串参数创建日期存在很大问题，把创建的日期打印出来就可以发现问题。</p> <p>如果你住在<strong>格林威治标准时间 (GMT)</strong> 晚的的地区，你会得到一个日期是 <code>10月28日</code>。</p> <p><img src="http://book.52react.cn/20191029132620.png" alt></p> <p>如果你住在比格林威治标准时间早的地区，才会等得到 <code>10月28日</code>的日期。</p> <p>发生这种情况是因为日期字符串参数的方法具有特殊行为：<strong>如果创建日期（未指定时间），则会获得 UTC 格式设置的日期。</strong></p> <p>在上面的场景中，使用 <code>newDate('2019-06-11')</code> 创建日期时，实际上创建的日期是 2019 年 6 月 11 日，UTC 时间上午 12 点。这就是为什么住在格林尼治标准时间之后的地区的人得到的是 <code>6月10日</code>而不是 <code>6月11日</code>。</p> <p>如果要使用<strong>日期字符串参数方法</strong>在 “本地时间” 中创建日期，则需要包括时间。如果包含时间，则需要至少写入 <code>HH</code>和 <code>mm</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2019-06-11T00:00'</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="http://book.52react.cn/20191029133408.png" alt></p> <p>使用日期字符串参数的创建的本地时间与 UTC 的比较可能是一个难以捕捉的错误。所以，<strong>建议不要使用日期字符串创建日期方式</strong>。</p> <blockquote><p><strong>格林威治标准时间 GMT</strong> 十七世纪，格林威治皇家天文台为了海上霸权的扩张计画而进行天体观测。1675 年旧皇家观测所 (Old Royal Observatory) 正式成立，到了 1884 年决定以通过格林威治的子午线作为划分地球东西两半球的经度零度。观测所门口墙上有一个标志 24 小时的时钟，显示当下的时间，对全球而言，这里所设定的时间是世界时间参考点，全球都以格林威治的时间作为标准来设定时间，这就是我们耳熟能详的「格林威治标准时间(Greenwich Mean Time，简称 G.M.T.) 的由来，标示在手表上，则代表此表具有两地时间功能，也就是同时可以显示原居地和另一个国度的时间。</p> <p><strong>世界协调时间 UTC</strong><br>
多数的两地时间表都以 GMT 来表示，但也有些两地时间表上看不到 GMT 字样，出现的反而是 UTC 这 3 个英文字母，究竟何谓 UTC？事实上，UTC 指的是 Coordinated Universal Time－ 世界协调时间（又称世界标准时间、世界统一时间），是经过平均太阳时 (以格林威治时间 GMT 为准)、地轴运动修正后的新时标以及以「秒」为单位的国际原子时所综合精算而成的时间，计算过程相当严谨精密，因此若以「世界标准时间」的角度来说，UTC 比 GMT 来得更加精准。其误差值必须保持在 0.9 秒以内，若大于 0.9 秒则由位于巴黎的国际地球自转事务中央局发布闰秒，使 UTC 与地球自转周期一致。所以基本上 UTC 的本质强调的是比 GMT 更为精确的世界时间标准，不过对于现行表款来说，GMT 与 UTC 的功能与精确度是没有差别的。</p></blockquote> <h4 id="使用一系列的参数创建"><a href="#使用一系列的参数创建" aria-hidden="true" class="header-anchor">#</a> <strong>使用一系列的参数创建</strong></h4> <p>最多可以传入七个参数来创建日期 / 时间。</p> <p><strong>Year</strong>：4 位数年份</p> <p><strong>Month</strong>：一年中的某月（0-11）</p> <p><strong>Day</strong>：每月的某天（1-31），如果省略，则默认为 1。</p> <p><strong>Hour</strong>：一天中的小时（0-23），如果省略，则默认为 0。</p> <p><strong>Minutes</strong>：分钟（0-59），如果省略，则默认为 0。</p> <p><strong>Seconds</strong>：秒（0-59），如果省略，则默认为 0。</p> <p><strong>Milliseconds</strong>：毫秒（0-999），如果省略，则默认为 0。</p> <div class="language- extra-class"><pre class="language-text"><code>// 11th June 2019, 5:23:59am, Local Time 
new Date(2019, 5, 11, 5, 23, 59)
</code></pre></div><p><img src="http://book.52react.cn/20191029133538.png" alt></p> <p>许多开发人员比较少用这种方式，因为它看起来很复杂，但它实际上非常简单。可以从左到右记忆: 年、月、日、小时、分钟、秒和毫秒。</p> <p>Date 中需要注意的地方 <code>Month</code>是从 <code>0</code>开始的，如 <code>1月===0，2月===1，3月===2</code>，依此类推。</p> <p>再来一些事件熟悉一下多个参数的用法</p> <div class="language- extra-class"><pre class="language-text"><code>// Date Mon Mar 21 1988 00:00:00 GMT+0800 (中国标准时间)
new Date(1988, 2, 21)
// 25th December 2019, 8am, Local Time.
new Date(2019, 11, 25, 8)
// 6th November 2023, 2:20am, Local Time
new Date(2023, 10, 6, 2, 20)
// Date Tue Jun 11 2019 05:23:59 GMT+0800 (中国标准时间)
new Date(2019, 5, 11, 5, 23, 59)
</code></pre></div><p>注意，使用参数创建的日期都是用本地时间</p> <p>使用参数的还有一个好处是不会在本地时间和 UTC 之间混淆，如果需要 UTC 时间，请以这种方式创建 UTC 日期：</p> <div class="language- extra-class"><pre class="language-text"><code>// Date Tue Jun 11 2019 08:00:00 GMT+0800 (中国标准时间)
new Date(Date.UTC(2019, 5, 11))
</code></pre></div><h4 id="使用时间戳来创建日期"><a href="#使用时间戳来创建日期" aria-hidden="true" class="header-anchor">#</a> <strong>使用时间戳来创建日期</strong></h4> <p>在 JS 中，时间戳是自 1970 年 1 月 1 日以来经过的毫秒数（1970 年 1 月 1 日也称为 Unix 纪元时间）。根据我的经验，很少使用时间戳来创建日期，一般使用时间戳来比较不同的日期或者格式化日期，后面在讨论。</p> <h4 id="不带参数的形式创建日期"><a href="#不带参数的形式创建日期" aria-hidden="true" class="header-anchor">#</a> <strong>不带参数的形式创建日期</strong></h4> <p>如果创建没有任何参数的日期，则会将日期设置为当前时间（以本地时间为单位）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="http://book.52react.cn/20191029134204.png" alt></p> <p><strong>小结一波</strong></p> <ol><li><p>使用 new Date() 创建日期</p></li> <li><p>有四种可能的语法：</p></li></ol> <ul><li><p>使用字符串日期值</p></li> <li><p>使用一系列参数</p></li> <li><p>使用时间戳</p></li> <li><p>不带参数</p></li></ul> <ol><li><p>最好不要使用字符串日期值的方法创建日期</p></li> <li><p>最好使用一系列参数方式创建日期</p></li> <li><p>记住月份是从 0 开始的</p></li></ol> <h2 id="格式化日期"><a href="#格式化日期" aria-hidden="true" class="header-anchor">#</a> 格式化日期</h2> <p>多数编程语言都提供了一种格式工具来创您想要的任何日期格式 例如，在 PHP 中，可以将 <code>date(&quot;d M Y&quot;)</code>格式化成 <code>231月2019</code>这样的日期。</p> <p><strong>但是在 JS 中格式化日期并不容易。</strong></p> <p>原生 <code>Date</code> 对象提供了七种格式化方法，这七种方法中的每一种都会给你一个特定的价值，而且它们毫无用处。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span>
</code></pre></div><p><code>toString</code>：格式化成 &quot;Wed Jan 23 2019 17:23:42 GMT+0800 (中国标准时间)&quot;</p> <p><code>toDateString</code>: 格式化成 &quot;Wed Jan 23 2019&quot;</p> <p><code>toLocaleString</code>：格式化成 &quot;2019/1/23 下午 5:23:42&quot;</p> <p><code>toLocaleDateString</code>：格式化成 &quot;2019/1/23&quot;</p> <p><code>toGMTString</code>：格式化成 &quot;Wed, 23 Jan 2019 09:23:42 GMT&quot;</p> <p><code>toUTCString</code>：格式化成 &quot;Wed, 23 Jan 2019 09:23:42 GMT&quot;</p> <p><code>toISOString</code> ：格式化成 &quot;2019-01-23T09:23:42.000Z&quot;</p> <p>如果需要自定义格式，则要自己创建。</p> <h3 id="编写自定义日期格式"><a href="#编写自定义日期格式" aria-hidden="true" class="header-anchor">#</a> 编写自定义日期格式</h3> <p>假设想要 <code>2019年1月23日星期四</code>这样的日期格式。需要知道 <code>Date</code>对象日期方法。</p> <p>要获取这样的格式，用到 <code>Date</code> 中的四个方法：</p> <p><code>getFullYear</code>：获取当地时间 4 位数的年份</p> <p><code>getMonth</code>：获取当时时间的月份，<strong>注意从 0 开始</strong></p> <p><code>getDate</code>：获取当地时间月中的某一天（1-31）</p> <p><code>getDay</code>：获取当地时间的星期几（0-6），星期日（0）开始，到星期六（6）结束。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span> 
<span class="token keyword">const</span> year <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 2019 </span>
<span class="token keyword">const</span> date <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 23</span>
</code></pre></div><p><strong>因为星期和月份是从 0 开始的</strong>，所以我们可以创建一个映射表：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> months <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">'1月'</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'2月'</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">'3月'</span><span class="token punctuation">,</span>
  <span class="token number">3</span><span class="token punctuation">:</span> <span class="token string">'4月'</span><span class="token punctuation">,</span>
  <span class="token number">4</span><span class="token punctuation">:</span> <span class="token string">'5月'</span><span class="token punctuation">,</span>
  <span class="token number">5</span><span class="token punctuation">:</span> <span class="token string">'6月'</span><span class="token punctuation">,</span>
  <span class="token number">6</span><span class="token punctuation">:</span> <span class="token string">'7月'</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token punctuation">:</span> <span class="token string">'8月'</span><span class="token punctuation">,</span>
  <span class="token number">8</span><span class="token punctuation">:</span> <span class="token string">'9月'</span><span class="token punctuation">,</span>
  <span class="token number">9</span><span class="token punctuation">:</span> <span class="token string">'10月'</span><span class="token punctuation">,</span>
  <span class="token number">10</span><span class="token punctuation">:</span> <span class="token string">'11月'</span><span class="token punctuation">,</span>
  <span class="token number">11</span><span class="token punctuation">:</span> <span class="token string">'12月'</span>
<span class="token punctuation">}</span>

</code></pre></div><p>由于月份是 0 开始的的，我们可以使用数组代替对象，结果一样：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> months <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'1月'</span><span class="token punctuation">,</span>
  <span class="token string">'2月'</span><span class="token punctuation">,</span>
  <span class="token string">'3月'</span><span class="token punctuation">,</span>
  <span class="token string">'4月'</span><span class="token punctuation">,</span>
  <span class="token string">'5月'</span><span class="token punctuation">,</span>
  <span class="token string">'6月'</span><span class="token punctuation">,</span>
  <span class="token string">'7月'</span><span class="token punctuation">,</span>
  <span class="token string">'8月'</span><span class="token punctuation">,</span>
  <span class="token string">'9月'</span><span class="token punctuation">,</span>
  <span class="token string">'10月'</span><span class="token punctuation">,</span>
  <span class="token string">'11月'</span><span class="token punctuation">,</span>
  <span class="token string">'12月'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>要得到 1 月份，你需要</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> monthIndex <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> monthName <span class="token operator">=</span> months<span class="token punctuation">[</span>monthIndex<span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>monthName<span class="token punctuation">)</span> <span class="token comment">// 1月</span>
</code></pre></div><p>简化一下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> monthName <span class="token operator">=</span> <span class="token function">months</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>monthName<span class="token punctuation">)</span> <span class="token comment">// 1月</span>
</code></pre></div><p>为了获取 星期四，还需要 做同样的事情：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> days <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'星期日'</span><span class="token punctuation">,</span>
  <span class="token string">'星期一'</span><span class="token punctuation">,</span>
  <span class="token string">'星期二'</span><span class="token punctuation">,</span>
  <span class="token string">'星期三'</span><span class="token punctuation">,</span>
  <span class="token string">'星期四'</span><span class="token punctuation">,</span>
  <span class="token string">'星期五'</span><span class="token punctuation">,</span>
  <span class="token string">'星期六'</span>
<span class="token punctuation">]</span>
</code></pre></div><p>获取方式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> dayName <span class="token operator">=</span> days<span class="token punctuation">[</span>d<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// 星期四</span>
</code></pre></div><p>接着就产拼接起来。这是相对乏味的。</p> <p>如果需要创建自定义格式的时间，可以使用以下方法</p> <p><code>getHours</code>：获取当地时间获取小时数（0-23）。</p> <p><code>getMinutes</code>: 获取本地时间获取分钟 (0-59)。</p> <p><code>getSeconds</code>：获取本地时间获取秒数（0-59）。</p> <p><code>getMilliseconds</code>: 获取本地时间获取毫秒 (0-999)。</p> <h3 id="日期的比较"><a href="#日期的比较" aria-hidden="true" class="header-anchor">#</a> 日期的比较</h3> <hr> <p>比较日期的前后，可以直接使用 <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code> 和 <code>&lt;=</code> 时行比较。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> earlier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> later <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>earlier <span class="token operator">&lt;</span> later<span class="token punctuation">)</span> <span class="token comment">// true</span>

</code></pre></div><p>比较两个日期是否一样，就比较麻烦，不能直接用 <code>==</code> 或 <code>===</code></p> <p>错误示范:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span> <span class="token comment">// false</span>

</code></pre></div><p>可以 <code>getTime</code>获取它们的时间戳，用时间戳进行比较。</p> <p><img src="http://book.52react.cn/20191029175105.png" alt></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isSameTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> b<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isSameTime</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

</code></pre></div><p>如果只想检查两个日期是否在同一天，可以比较他们的 <code>getFullYear</code>， <code>getMonth</code>和 <code>getDate</code>值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isSameDay</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> b<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    a<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> b<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    a<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">===</span> b<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 26 Jan 2019, 10am</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token comment">// 26 Jan 2019, 12pm</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isSameDay</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="从另一个日期获取日期"><a href="#从另一个日期获取日期" aria-hidden="true" class="header-anchor">#</a> 从另一个日期获取日期</h3> <hr> <p>有两种可能的情况，希望从另一个日期获得一个日期。</p> <ol><li><p>设置另一个日期特定的日期 / 时间值</p></li> <li><p>从另一个日期添加 / 减去增量</p></li></ol> <h4 id="设置另一个日期特定的日期-时间值"><a href="#设置另一个日期特定的日期-时间值" aria-hidden="true" class="header-anchor">#</a> <strong>设置另一个日期特定的日期 / 时间值</strong></h4> <p>可以使用以下方法设置另一个日期的日期 / 时间:</p> <ol><li><p><code>setFullYear</code>: 设置年份</p></li> <li><p><code>setMonth</code>：设置月份</p></li> <li><p><code>setDate</code>：设置每月的某一天</p></li> <li><p><code>setHours</code>：设置时</p></li> <li><p><code>setNubytes</code>：设置分</p></li> <li><p><code>setSeconds</code>：设置秒</p></li> <li><p><code>setMilliseconds</code>：设置毫秒</p></li></ol> <p>例如，如果想将日期设置为每月 15 日，可以使用 <code>setDate(15)</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment">// 15 January 2019</span>
</code></pre></div><blockquote><p>注意：上面的 <code>setter</code>方法会改变原始日期对象。在实际中，我们不应该改变对象，应该在新的日期对象上执行这些操作。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> newDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
newDate<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment">// 10 January 2019</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newDate<span class="token punctuation">)</span> <span class="token comment">// 10 June 2019</span>
</code></pre></div><h3 id="从另一个日期添加-减去增量"><a href="#从另一个日期添加-减去增量" aria-hidden="true" class="header-anchor">#</a> 从另一个日期添加 / 减去增量</h3> <p>添加 / 减去增量有两种通用方法。第一种方法在 Stack Overflow 上更受欢迎，它简洁，但更难掌握。第二种方法更冗长，但更容易理解。</p> <p>假设希望获得从今天起三天的日期。对于这个例子，假设今天是 <code>2019年3月28日</code>。</p> <h4 id="第一种方法"><a href="#第一种方法" aria-hidden="true" class="header-anchor">#</a> <strong>第一种方法</strong></h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span>
</code></pre></div><p>首先，我们创建一个新的 Date 对象，这样就不会改变原始日期</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> finalDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>today<span class="token punctuation">)</span>
</code></pre></div><p>接下来，我们需要知道要更改的值。因为我们要改变日期，所以我们可以用 <code>getDate</code>获得日期</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> currentDate <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>因为获取三天后的日期，所以需要在得到的日期加 3</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setDate</span><span class="token punctuation">(</span>currentDate <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p>完整代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> finalDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>today<span class="token punctuation">)</span>
finalDate<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>today<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>finalDate<span class="token punctuation">)</span> <span class="token comment">// 31 March 2019</span>
</code></pre></div><h4 id="第二种方法"><a href="#第二种方法" aria-hidden="true" class="header-anchor">#</a> <strong>第二种方法</strong></h4> <p>使用 <code>getFullYear</code>， <code>getMonth</code>， <code>getDate</code>方法，更改对应的值， 然后，我们使用 <code>newDate</code>创建最终日期。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span>
<span class="token comment">// Getting required values</span>
<span class="token keyword">const</span> year <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> month <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getMonh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> day <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// Creating a new Date (with the delta)</span>
<span class="token keyword">const</span> finalDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>finalDate<span class="token punctuation">)</span> <span class="token comment">// 31 March 2019</span>
</code></pre></div><h2 id="自动日期校正"><a href="#自动日期校正" aria-hidden="true" class="header-anchor">#</a> 自动日期校正</h2> <p>如果为 <code>Date</code>提供一个超出其可接受范围的值，JS 将自动重新计算日期。</p> <p>如下所示，假设我们把日期定在 2019 年 3 月 33 日，日历上没有 33 日，JS 会自动将 <code>3月33日</code>调整为 <code>4月2日</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="http://book.52react.cn/20191029174130.png" alt></p> <p>这意味着在创建增量时无需担心计算分钟，小时，天，月等，JavaScript 会自动处理。</p> <p><img src="http://book.52react.cn/20191029174300.png" alt></p> <h2 id="日历小例子"><a href="#日历小例子" aria-hidden="true" class="header-anchor">#</a> 日历小例子</h2> <h4 id="设置当月的第一天"><a href="#设置当月的第一天" aria-hidden="true" class="header-anchor">#</a> 设置当月的第一天</h4> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  now<span class="token punctuation">.</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  now<span class="token punctuation">.</span><span class="token function">setMinutes</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  now<span class="token punctuation">.</span><span class="token function">setSeconds</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  now<span class="token punctuation">.</span><span class="token function">setMilliseconds</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  now<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 设置当前月的第一天 1569859200000</span>
</code></pre></div><p>如果增加2个月呢</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">// 当前月第一天的零时刻</span>
 <span class="token keyword">const</span> monthSequence <span class="token operator">=</span> <span class="token punctuation">[</span>now<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
  <span class="token comment">// 获取下个月的第一天的零时刻</span>
  now<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  monthSequence<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//再下一个月</span>
  now<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  monthSequence<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//Array(3) [ 1572537600000, 1575129600000, 1577808000000 ]</span>
</code></pre></div><h4 id="设置周"><a href="#设置周" aria-hidden="true" class="header-anchor">#</a> 设置周</h4> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">//[ 1572537600000, 1575129600000, 1577808000000 ]每一个下标循环传入</span>
  <span class="token keyword">const</span> startDay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>startingTimeInMonth<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> currentDay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>startingTimeInMonth<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//date是可以变化得</span>

  <span class="token keyword">let</span> days <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// 天数每次递增，直到月份相等则遍历，不等就完成</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>currentDay<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> startDay<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    days<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentDay<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentDay<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>currentDay<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//+1天直到不相等</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//填充月初的几天</span>
   days <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>startDay<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> startDay<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>days<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//判断是否是月末最后一天</span>
  <span class="token keyword">const</span> lastDay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>days<span class="token punctuation">[</span>days<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//填充月末的最后几天</span>
  days <span class="token operator">=</span> days<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>lastDay<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">7</span> <span class="token operator">-</span>  lastDay<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> weeks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> row <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> row <span class="token operator">&lt;</span> days<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token operator">++</span>row<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//0-7 7-14 14-21</span>
    <span class="token keyword">const</span> week <span class="token operator">=</span> days<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>row <span class="token operator">*</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    weeks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>week<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h4 id="设置天"><a href="#设置天" aria-hidden="true" class="header-anchor">#</a> 设置天</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//判断是否是周末</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    classes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'weekend'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token comment">//遍历每一天时间戳变成数字</span>
<span class="token keyword">const</span> dateString <span class="token operator">=</span> now <span class="token operator">===</span> day <span class="token operator">?</span> <span class="token string">'今天'</span> <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/bookNotes/assets/js/app.a5c1f5ee.js" defer></script><script src="/bookNotes/assets/js/69.54e25a4e.js" defer></script>
  </body>
</html>
